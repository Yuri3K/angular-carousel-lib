@if(state.isArrows()) {
  <div class="ngx-carousel__controls">
    <div class="ngx-carousel__custom-btn">
      <ng-container 
        [ngTemplateOutlet]="btnLeft || defaultBtnLeft"
        [ngTemplateOutletContext]="{$implicit: carousel}"
      />
    </div>

    <ng-template #defaultBtnLeft>
      <button
        type="button"
        class="ngx-carousel__btn"
        (click)="carousel.prev()"
        aria-label="Previous slide"
      >
        <ng-container 
          [ngTemplateOutlet]="iconLeft || defaultIconLeft"
        />
      </button>
  
      <ng-template #defaultIconLeft>
        <svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 0 24 24" width="40px"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12l4.58-4.59z"/></svg>
      </ng-template>
    </ng-template>
  
    <div class="ngx-carousel__custom-btn">
      <ng-container 
        [ngTemplateOutlet]="btnRight || defaultBtnRight"
        [ngTemplateOutletContext]="{$implicit: carousel}"
      />
    </div>

    <ng-template #defaultBtnRight>
      <button
        type="button"
        class="ngx-carousel__btn"
        aria-label="Next slide"
        (click)="carousel.next()"
      >
        <ng-container 
          [ngTemplateOutlet]="iconRight || defaultIconRight"
        />
      </button>
  
      <ng-template #defaultIconRight>
        <svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 0 24 24" width="40px"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z"/></svg>
      </ng-template>
    </ng-template>
  </div>
}

@if(state.isDots()) {
  <div class="ngx-carousel__controls bullets">
    <div 
      role="tablist"
      aria-label="Carousel indicators"
      class="ngx-carousel__dots"
    >
      @for(dot of state.slides(); track $index; let i = $index) {
        <button
          type="button"
          role="tab"
          [attr.aria-selected]="carousel.getDisplayIndex() == i"
          class="ngx-carousel__dot"
          [class.active]="carousel.getDisplayIndex() == i"
          (click)="carousel.goTo(i)"
        >
          <span class="ngx-carousel__click-area"></span>
        </button>
      }
    </div>
  </div>
}

@if(state.stopAutoplayBtn()) {
  <div class="ngx-carousel__stop-btn">
    <div class="ngx-carousel__custom-btn">
      <ng-container 
        [ngTemplateOutlet]="stopBtn || defaulStoptBtn"
        [ngTemplateOutletContext]="{
          autoplay: autoplay,
          nonStop: nonStop
        }"
      />
    </div>

    <ng-template #defaulStoptBtn>
      <button
        type="button"
        class="ngx-carousel__btn"
        (click)="nonStop.toggle(); autoplay.toggle()"
        aria-label="Toggle autoplay"
      >
        @if(state.mode() == 'non-stop' && nonStop.rafId()) {
          <ng-container 
            [ngTemplateOutlet]="iconPause || defaultIconPause"
          />
        }
        @if(state.mode() == 'non-stop' && !nonStop.rafId) {
          <ng-container 
            [ngTemplateOutlet]="iconPlay || defaultIconPlay"
          />
        }
        @if(state.mode() == 'carousel' && autoplay.isPlaying()) {
          <ng-container 
            [ngTemplateOutlet]="iconPause || defaultIconPause"
          />
        }
        @if(state.mode() == 'carousel' && !autoplay.isPlaying()) {
          <ng-container 
            [ngTemplateOutlet]="iconPlay || defaultIconPlay"
          />
        }
      </button>
  
      <ng-template #defaultIconPause>
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" ><path d="M0 0h24v24H0V0z" fill="none"/><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
      </ng-template>
  
      <ng-template #defaultIconPlay>
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M10 8.64L15.27 12 10 15.36V8.64M8 5v14l11-7L8 5z"/></svg>
      </ng-template>
    </ng-template>
  </div>
}


